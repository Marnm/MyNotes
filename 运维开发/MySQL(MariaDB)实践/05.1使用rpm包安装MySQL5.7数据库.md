---
title: 05.1使用rpm包安装MySQL5.7数据库
tags:
  - mysql
  - rpm2cpio
---

使用rpm包安装MySQL5.7数据库

1. 优化Linux系统  

```shell
sed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config &> /dev/null
setenforce 0
systemctl stop firewalld
systemctl disable firewalld
iptables -F
systemctl stop NetworkManager &> /dev/null
systemctl disable NetworkManager &> /dev/null
```

2. 上传mysql安装包
```
tar -xvf mysql5.7.tar.gz
cd mysql/
```

3. 安装  

 rpm -e --nodeps mariadb-libs -----卸载机器中默认安装的mariadb-libs数据库包

 rpm -ivh mysql-community-common-5.7.24-1.el7.x86_64.rpm  
 rpm -ivh mysql-community-libs-5.7.24-1.el7.x86_64.rpm  
 rpm -ivh mysql-community-client-5.7.24-1.el7.x86_64.rpm  
 rpm -ivh mysql-community-devel-5.7.24-1.el7.x86_64.rpm  
 rpm -ivh mysql-community-server-5.7.24-1.el7.x86_64.rpm  

4. 初始化数据库
 vim /etc/my.cnf -----编辑myslq服务配置文件，在末尾增加一下语句优化连接  
跳过主机名解析，提高连接速度  
```
skip-name-resolve
echo skip-name-resolve >> /etc/my.cnf
```

启动数据库服务

	systemctl start mysqld
	systemctl status mysqld
	systemctl enable mysqld

获取随机的初始密码 (mysql5.7开始第一次产生随机密码，且登录后必须修改，否则无法操作数据库)  
```shell
cat /var/log/mysqld.log | grep "password"
2021-01-09T07:10:18.431779Z 1 [Note] A temporary password is generated for root@localhost: -dhfHuf%p9hq

netstat -nlpt | grep mysqld -----mysqld 默认端口3306
tcp6 0 0 :::3306 :::* LISTEN 4434/mysqld
```

通过mysql命<客户端>登录 mysqld服务器  
mysql -u <用户名> -p <密码> -h <指定服务器IP,远程登录> -P <端口,默认3306>  
```
mysql -uroot -p
Enter password:
mysql>  输入sql语句与mysqld交互
```

修改初始密码，<密码需要复杂的密码>
```
mysql> ALTER USER 'root'@'localhost' identified by "Uplooking_123";
mysql> flush privileges; ----刷新权限，立即生效
mysql> quit
```

rpm安装MySQL5.7配置多实例  
链接：https://note.youdao.com/s/LGwmlumI
