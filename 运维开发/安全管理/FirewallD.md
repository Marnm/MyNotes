---
title: FirewallD
tags: []
---

# FirewallD

RHEL 7系统中集成了多款防火墙管理工具，其中firewalld（Dynamic Firewall Manager of Linux Systems，Linux系统动态防火墙管理器）服务是默认的防火墙配置管理工具，它拥有基于CLI（命令行界面）和基于GUI（图形用户界面）的两种管理方式。

FirewallD是CentOS 7的一大特性，最大的好处是支持动态更新，不用重启服务；加入了防火墙“zone”的概念

相较于传统的防火墙管理配置工具，firealld所支持动态更新技术并加入了区域（zone）的概念。简单来说，区域就是firewalld预先准备了几套防火墙策略集合（策略模板），用户可以根据生产场景的不同而选择合适的策略集合，从而实现防火墙策略的快速切换。例如，我们有一台笔记本电脑，每天都要在办公室、咖啡厅和家里使用。按常理来说，这三者的安全性按照由高到低的顺序来排列，应该是家庭、公司办公室、咖啡厅。当前，我们希望为这台笔记本电脑指定如下防火墙策略规则：
- 在家中允许访问所有服务；在办公室内仅允许访问文件共享服务；在咖啡厅仅允许上网浏览。在以往，我们需要频繁的手动设置防火墙策略规则，而现在只需要预设好区域集合，然后只需轻点鼠标就可以自动切换了，从而极大提升了防火墙策略的应用效率。
- firewalld中常见的区域名称（默认为public）以及相应的策略规则表如2所示：

表2. firewalld中常用的区域名称以及策略规则

| 区域 | 默认规则策略 |
| --- | --- |
| trusted | 允许所有的数据包流入与流出 | 
| home | 拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh、mdns、ipp-client、samba-client与dhcpv6-client服务相关，则允许流量|
| internal | 等同于home区域 |
| work | 拒绝流入的流量，除非与流出的流量数相关；而如果流量与ssh、ipp-client与dhcpv6-client服务相关，则允许流量 |
| public | 拒绝流入的流量，除非与流出的流量相关；而如果流量与ssh、dchpv6-client服务相关，则允许流量 |
