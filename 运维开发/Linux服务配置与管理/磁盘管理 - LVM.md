---
title: 磁盘管理 - LVM
tags:
  - lvm
  - ext2
  - ext3
  - ext4
---

### EXT扩展文件系统（日志文件系统）
ext2、ext3：linux环境上的文件系统。ext2/ext3文件系统使用索引节点来记录文件信息，作用就像Windows的文件分配表。索引节点是一个结构，它包含了一个文件的长度、创建及修改时间、权限、所属关系、磁盘中的位置等信息

ext2、ext3的区别如下：
ext2和ext3的格式完全相同，知识在ext3文件系统最后面有一部分空间用来存放journal（日志）的记录
ext2中，写资料到硬盘里面时，先将资料写入缓存中，当缓存写满是才回写入硬盘里面
在ext3中，写资料到硬盘里面时，先将资料写入缓存中，当缓存写满时系统先通知journal，再将资料写入硬盘，完成后再通知journal，资料已完成写入工作
****
是否有journal的差别
在ext2中，系统开机时会检查有效位（valid bit），如果值为1，表示系统上次有正常关机；如果为0，表示上次关机未正常关机，那系统就会从头检查硬盘中的资料，这样时间会很长
在ext3中，也就是journal机制里，系统开机时检查journal的资料，来查看是否有错误产生，这样就快了很多
tune2fs -j将ex2转换成ext3

| 文件系统 | 最大文件名称长度  | 最大路径名长度 | 最大文件大小 | 最大卷大小 |
| --- | --- | --- | --- | --- |
| ext2 | 255bytes |  没有定义限制 | 2TB | 32TB |
| ext3 | 255bytes |  没有定义限制 | 2TB | 32TB |
| ext4 | 255bytes |  没有定义限制 | 16TB | 1 EB |
